uw resnet data processing resnet data processing 2001-12-14 this document summarizes the algorithm that is used to process the resnet traffic-volume data and determine when to constrain those who have exceeded a limit. at the end of each n-minute interval for each resnet router, get and then clear the router's {source,destination,packets,bytes} accumulated data for each record in the data, ignore if both source and destination are resnet addresses local to this router ignore if have already encountered this same address-pair combination in the data from an already-processed router ignore if source or destination is a "dontcount" address otherwise, if source is a resnet address, add bytes to source's "bytes sent today" total if destination is a resnet address, add bytes to destinations's "bytes received today" total for each resnet address observed in the data, if the total for today is greater than the per-user daily fair share, if the total for today plus the last 6 days exceeds the "1500mb in last 7 days" limit, move this address into the router's constrained-bandwidth queue for the rest of the day otherwise, if the total for today plus the last 6 days exceeds the "500mb in last 7 days" limit, if it is during the peak-hours period, move this address into the router's constrained-bandwidth queue for the rest of the period at the end of the peak-hours period remove the addresses from the constrained-bandwidth queue that were added because they exceeded the "500mb in last 7 days" limit at the end of the day remove all remaining addresses from the constrained-bandwidth queue for each resnet address, add today's sent+received total to yesterday's list of totals save only the last 6 days' totals produce the daily report at the end of the term produce end-of-term report delete all data accumulated this term roger watt, ist.